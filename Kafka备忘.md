Kafka备忘
===

Kafka 分布式的  基于发布/订阅模式的消息队列



1、  消息队列
---

### 1.1、  使用消息队列的好处

- 解耦：允许独立扩展或修改两边的处理过程，只需遵守同样的接口约束

- 可恢复性：系统一部分组件失效不会影响整个系统，消息队列降低了进程间耦合度，即使一个处理消息的进程瓜掉，加入消息队列中的消息仍然可以在组件恢复后处理

- 缓冲：控制和优化数据流经系统的速度，解决生产>消费

- 灵活性&峰值处理能力

- 异步通信

  

### 1.2、  消息队列的两种模式

- 点对点模式：主动拉取
  - 一对一
  - 消费者主动拉去数据，消息收到后消息清除
  - 消息被消费后，queue中不再存储，消费者不可能消费到已经消费的消息
  - 支持多个消费者
  - 对于一个消息而言，只会有一个消费者可以消费

- 发布/订阅模式:消费者主动拉取(kafka)或topic队列推送
  - 一对多
  - 消费者消费数据后不会清除消息
  - 消息生产者（发布）将消息发布到topic,多个消息消费者（订阅）消费该消息
  - 发布到topic的消息会被所有订阅者消费



### 1.3、  Kafka架构









